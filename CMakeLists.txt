cmake_minimum_required(VERSION 3.16)
project(discjvm C)

set(CMAKE_C_STANDARD 99)

add_executable(discjvm main.c util/endian.c runtime/class_loader.c runtime/class_loader.h model/base_type.h model/class.h model/constant_class.h util/endian.h runtime/opcode.c runtime/opcode.h model/thread.h model/stack.h share/gc/serial/serial_heap.c share/gc/serial/serial_heap.h model/hash_map.h util/string_util.h runtime/jmod.h runtime/bootstrap.c runtime/bootstrap.h model/hash_map.c util/string_util.c runtime/jmod.c model/stack.c model/thread.c model/class.c share/native/java/lang/Object.c share/native/native_factory.c share/native/java/lang/Object.h share/native/native_factory.h share/native/java/lang/Class.c share/native/java/lang/Class.h share/native/java/lang/System.c share/native/java/lang/System.h share/native/java/lang/Thread.c share/native/java/lang/Thread.h share/native/jdk/internal/misc/Unsafe.c share/native/jdk/internal/misc/Unsafe.h util/iotuil.c util/ioutil.h share/native/java/lang/ClassLoader.c share/native/java/lang/ClassLoader.h share/native/java/lang/Runtime.c share/native/java/lang/Runtime.h share/native/java/security/AccessController.c share/native/java/security/AccessController.h share/native/java/lang/Throwable.c share/native/java/lang/Throwable.h share/native/jdk/internal/misc/VM.c share/native/jdk/internal/misc/VM.h share/native/java/lang/reflect/Array.c share/native/java/lang/reflect/Array.h share/native/java/lang/Float.c share/native/java/lang/Float.h share/native/java/lang/Double.c share/native/java/lang/Double.h share/native/java/io/FileInputStream.c share/native/java/io/FileInputStream.h share/native/java/io/FileDescriptor.c share/native/java/io/FileDescriptor.h share/native/java/io/FileOutputStream.c share/native/java/io/FileOutputStream.h)
TARGET_LINK_LIBRARIES(discjvm libzip.so)